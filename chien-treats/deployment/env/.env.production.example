# Production Environment Configuration for Chien's Treats
# Copy this to /srv/sites/chienstreats/shared/.env on the VPS
# Fill in all values marked with <REPLACE_ME>

# === Application ===
APP_ENV=production
APP_PORT=4000
APP_BASE_URL=https://chienstreats.com
FRONTEND_ORIGIN=https://chienstreats.com,https://www.chienstreats.com

# === Next.js Frontend ===
PORT=3101
NEXT_PUBLIC_SITE_URL=https://chienstreats.com
NEXT_PUBLIC_API_BASE_URL=/api/v1

# === Database ===
# PostgreSQL connection string
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE
DATABASE_URL=postgresql://chienstreats:<REPLACE_ME_DB_PASSWORD>@localhost:5432/chienstreats

# === Redis ===
REDIS_URL=redis://localhost:6379

# === JWT Authentication ===
# Generate with: openssl rand -base64 64 | tr -d '\n'
JWT_SECRET=<REPLACE_ME_64_CHAR_JWT_SECRET>
JWT_EXPIRES_IN=1h
REFRESH_EXPIRES_IN=30d
EMAIL_VERIFICATION_TTL=24h

# === Stripe (Payment Processing) ===
# Get from https://dashboard.stripe.com/apikeys
STRIPE_PUBLIC_KEY=<REPLACE_ME_STRIPE_PUBLIC_KEY>
STRIPE_SECRET_KEY=<REPLACE_ME_STRIPE_SECRET_KEY>
# Webhook secret from https://dashboard.stripe.com/webhooks
STRIPE_WEBHOOK_SECRET=<REPLACE_ME_STRIPE_WEBHOOK_SECRET>

# === File Uploads ===
UPLOAD_DIR=/srv/sites/chienstreats/shared/uploads
MAX_UPLOAD_MB=10

# === Rate Limiting ===
RATE_LIMIT_WINDOW_SEC=300
RATE_LIMIT_MAX=100
RATE_LIMIT_AUTH_WINDOW_SEC=900
RATE_LIMIT_AUTH_MAX=20

# === Email (SMTP) ===
# Example for Gmail: smtp://username@gmail.com:app-password@smtp.gmail.com:587
# Example for SendGrid: smtp://apikey:SG.xxxxx@smtp.sendgrid.net:587
SMTP_HOST=<REPLACE_ME_SMTP_HOST>
SMTP_PORT=<REPLACE_ME_SMTP_PORT>
SMTP_SECURE=false
SMTP_USER=<REPLACE_ME_SMTP_USER>
SMTP_PASS=<REPLACE_ME_SMTP_PASSWORD>
SMTP_FROM_NAME=Chien's Treats
SMTP_FROM_EMAIL=<REPLACE_ME_FROM_EMAIL>
EMAIL_OUTPUT_DIR=/srv/sites/chienstreats/shared/logs/emails

# === Monitoring ===
METRICS_ENABLED=true

# === Optional: Sentry Error Tracking ===
# SENTRY_DSN=<your-sentry-dsn>

# === Optional: Analytics ===
# NEXT_PUBLIC_GA_ID=<your-google-analytics-id>
